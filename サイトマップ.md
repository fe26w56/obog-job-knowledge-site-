# サイトマップ：学生団体OBOG就活ナレッジサイト

## 🌐 **サイト構造**

```
📱 学生団体OBOG就活ナレッジサイト
│
├── 🔐 **認証エリア**
│   ├── /auth/login - ログイン画面
│   ├── /auth/register - 新規登録画面（招待URL経由）
│   ├── /auth/otp - OTP確認画面
│   └── /auth/forgot-password - パスワードリセット
│
├── 🏠 **メインエリア** (認証後)
│   ├── / - ダッシュボード（投稿一覧）
│   ├── /search - 検索結果画面
│   ├── /posts/[id] - 投稿詳細画面
│   ├── /posts/create - 投稿作成画面 (OB/OGのみ)
│   ├── /posts/edit/[id] - 投稿編集画面 (OB/OGのみ)
│   ├── /profile - プロフィール表示
│   ├── /profile/edit - プロフィール編集
│   ├── /bookmarks - お気に入り一覧
│   ├── /notifications - 通知一覧
│   └── /settings - 設定画面
│
├── 👥 **ユーザー関連**
│   ├── /users/[id] - ユーザープロフィール表示
│   ├── /users/[id]/contact - 連絡先申請
│   └── /users/permissions - 連絡先許可管理 (OB/OGのみ)
│
├── 🛠️ **管理エリア** (管理者のみ)
│   ├── /admin - 管理ダッシュボード
│   ├── /admin/users - ユーザー管理
│   ├── /admin/users/pending - 承認待ちユーザー
│   ├── /admin/posts - 投稿管理
│   ├── /admin/invitations - 招待URL管理
│   ├── /admin/analytics - 統計・分析
│   └── /admin/settings - システム設定
│
└── 📄 **その他**
    ├── /about - サービス概要
    ├── /terms - 利用規約
    ├── /privacy - プライバシーポリシー
    └── /help - ヘルプ・FAQ
```

## 🔄 **ユーザーフロー**

### **新規ユーザー登録フロー**
```
招待URL受信 → /auth/register → 基本情報入力 → /auth/otp → OTP確認 → 承認待ち → (管理者承認) → / (ダッシュボード)
```

### **既存ユーザーログインフロー**
```
/auth/login → メール入力 → /auth/otp → OTP確認 → / (ダッシュボード)
```

### **投稿閲覧フロー**
```
/ (ダッシュボード) → 検索・フィルタ → /posts/[id] → コメント・評価 → ブックマーク
```

### **連絡先申請フロー**
```
/posts/[id] → 投稿者プロフィール → /users/[id]/contact → 申請送信 → (OB/OG承認) → 連絡先表示
```

### **投稿作成フロー (OB/OGのみ)**
```
/ → /posts/create → 投稿作成 → プレビュー → 公開 → /posts/[id]
```

### **管理フロー (管理者のみ)**
```
/admin → ユーザー承認(/admin/users/pending) → 投稿管理(/admin/posts) → 統計確認(/admin/analytics)
```

## 📱 **画面別機能マップ**

### **ダッシュボード (/)**
- 投稿一覧表示（カード形式）
- 検索バー
- フィルタパネル（業界、企業、卒年、タグ）
- ソート機能
- 無限スクロール
- お気に入りボタン

### **投稿詳細 (/posts/[id])**
- 投稿内容表示（マークダウン）
- 投稿者情報カード
- タグ一覧
- いいね・ブックマーク・シェアボタン
- コメント欄（ネスト対応）
- 関連投稿

### **プロフィール (/profile)**
- 基本情報表示
- 投稿履歴
- ブックマーク一覧
- 連絡先設定 (OB/OGのみ)
- 許可リスト管理 (OB/OGのみ)

### **管理画面 (/admin)**
- 統計ダッシュボード
- ユーザー管理（承認・拒否・削除）
- 投稿管理（モデレーション）
- 招待URL生成・管理
- システム設定

## 🎯 **権限別アクセス制御**

### **未承認ユーザー**
- ✅ /auth/* (認証関連のみ)
- ❌ その他すべて

### **現役会員**
- ✅ メインエリア（投稿閲覧、検索、プロフィール）
- ✅ ブックマーク、通知
- ❌ 投稿作成・編集
- ❌ 管理エリア
- 🔒 連絡先情報（許可制）

### **OB/OG会員**
- ✅ 全メインエリア機能
- ✅ 投稿作成・編集
- ✅ 連絡先許可管理
- ❌ 管理エリア

### **管理者**
- ✅ 全機能アクセス
- ✅ 管理エリア
- ✅ ユーザー・投稿管理

## 📐 **レスポンシブ対応**

### **モバイル (320px-768px)**
- フッターナビゲーション
- ハンバーガーメニュー
- カード表示（1列）
- スワイプジェスチャー

### **タブレット (768px-1024px)**
- サイドナビゲーション
- カード表示（2列）
- タブレット最適化フォーム

### **デスクトップ (1024px以上)**
- ヘッダーナビゲーション
- サイドバー（管理画面）
- カード表示（3-4列）
- ホバーエフェクト

## 🔍 **SEO・メタデータ**

### **動的メタデータ**
- `/posts/[id]` - 投稿タイトル・概要
- `/users/[id]` - ユーザー名・所属
- `/search` - 検索キーワード

### **静的メタデータ**
- `/` - サービス名・概要
- `/about` - サービス紹介
- 各認証ページ - 適切なタイトル

## 🚀 **パフォーマンス最適化**

### **静的生成 (SSG)**
- `/about`, `/terms`, `/privacy`, `/help`

### **サーバーサイドレンダリング (SSR)**
- `/posts/[id]` - SEO重要
- `/users/[id]` - 動的コンテンツ

### **クライアントサイドレンダリング (CSR)**
- `/admin/*` - 管理画面
- `/search` - インタラクティブ検索

### **増分静的再生成 (ISR)**
- `/` - ダッシュボード（定期更新）
- 投稿一覧（キャッシュ戦略） 